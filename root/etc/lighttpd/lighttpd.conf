server.modules = (
        "mod_access",
        "mod_alias",
        "mod_auth",
        "mod_authn_file",
        "mod_cgi",
        "mod_evasive"
)

server.document-root        = "/www"
server.upload-dirs          = ( "/tmp" )
server.errorlog             = "/var/log/lighttpd/error.log"
server.pid-file             = "/var/run/lighttpd.pid"
server.username             = "http"
server.groupname            = "www-data"

index-file.names            = ( "index.php", "index.html",
                                "index.htm", "default.htm",
                                "index.lighttpd.html" )

static-file.exclude-extensions = ( ".php", ".pl", ".fcgi" )

### Options that are useful but not always necessary:
#server.chroot               = "/"
server.port                 = 80
server.bind                 = "10.10.10.10"
#server.tag                  = "lighttpd"
#server.errorlog-use-syslog  = "enable"
server.network-backend      = "write"

### Use IPv6 if available
#include_shell "/usr/share/lighttpd/use-ipv6.pl"

#dir-listing.encoding        = "utf-8"
#server.dir-listing          = "enable"

# Authentication module configuration
auth.backend = "htdigest"                                                          
auth.backend.htdigest.userfile = "/etc/lighttpd/.htdigest" 
auth.require = ( "/" =>
    (
    "method"  => "digest",
    "realm"   => "www",
    "require" => "valid-user"
    )
)

# CGI configuration file
alias.url += ("/cgi-bin" => "/usr/share/cgi-bin")
cgi.assign = ( ".pl"  => "/usr/bin/perl", ".cgi" => "/usr/bin/perl", ".json" => "/bin/sh", ".text" => "/bin/sh", ".bin" => "/bin/sh" )

# Evasive module configuration
evasive.max-conns-per-ip = 3

include       "/etc/lighttpd/mime.conf"
